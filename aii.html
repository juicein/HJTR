<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>AI 文章检测器</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg: #0b0f14;
  --card: #121826;
  --primary: #5ddcff;
  --danger: #ff6b6b;
  --success: #2ecc71;
  --text: #e6eaf0;
  --sub: #9aa4b2;
  --border: rgba(255,255,255,.08);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
               "PingFang SC", "Microsoft YaHei", sans-serif;
  background: radial-gradient(circle at top, #111827, #020617);
  color: var(--text);
}

.container {
  max-width: 1000px;
  margin: 60px auto;
  padding: 0 20px;
}

header {
  margin-bottom: 32px;
}

header h1 {
  font-size: 34px;
  font-weight: 700;
  letter-spacing: .5px;
}

header p {
  color: var(--sub);
  max-width: 720px;
}

.card {
  background: linear-gradient(180deg, #141a2b, #0f1424);
  border-radius: 16px;
  padding: 24px;
  border: 1px solid var(--border);
  box-shadow: 0 20px 50px rgba(0,0,0,.6);
}

textarea {
  width: 100%;
  min-height: 220px;
  background: #0b1020;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  font-size: 15px;
  resize: vertical;
  outline: none;
}

textarea::placeholder {
  color: #6b7280;
}

button {
  margin-top: 20px;
  padding: 14px 28px;
  font-size: 15px;
  font-weight: 600;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #5ddcff, #c77dff);
  color: #020617;
}

.result {
  margin-top: 32px;
  display: none;
}

.score {
  font-size: 56px;
  font-weight: 800;
  margin-bottom: 8px;
}

.level {
  font-size: 18px;
  margin-bottom: 16px;
}

.details {
  margin-top: 20px;
}

.details li {
  margin-bottom: 10px;
  color: var(--sub);
}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>AI 文章 AI 率检测器</h1>
  <p>
    基于语言结构、关键词密度、句式模式的启发式分析。
    用于识别<strong>明显 AI 生成或 AI 重写痕迹</strong>。
  </p>
</header>

<div class="card">
  <textarea id="text" placeholder="粘贴需要检测的文章内容..."></textarea>
  <button onclick="analyze()">开始检测</button>

  <div class="result" id="result">
    <div class="score" id="score">0%</div>
    <div class="level" id="level"></div>
    <ul class="details" id="details"></ul>
  </div>
</div>

</div>

<script>
function analyze() {
  const text = document.getElementById("text").value.trim();
  if (!text) return;

  const sentences = text.split(/[。！？.!?]/).filter(s => s.length > 0);
  const words = text.split(/\s+/);

  let score = 0;
  let reasons = [];

  // 1. AI 高频关键词
  const aiWords = [
    "此外", "同时", "因此", "综上所述", "总的来说",
    "显而易见", "不难发现", "值得注意的是",
    "可以看出", "从某种程度上"
  ];
  let hit = aiWords.filter(w => text.includes(w)).length;
  if (hit >= 3) {
    score += 25;
    reasons.push(`命中 ${hit} 个 AI 高频连接词`);
  }

  // 2. 平均句长
  let avgLen = words.length / sentences.length;
  if (avgLen > 28) {
    score += 20;
    reasons.push(`平均句长异常（${avgLen.toFixed(1)} 字）`);
  }

  // 3. 句式重复
  let startMap = {};
  sentences.forEach(s => {
    let start = s.slice(0, 6);
    startMap[start] = (startMap[start] || 0) + 1;
  });
  let repeats = Object.values(startMap).filter(v => v >= 3).length;
  if (repeats > 0) {
    score += 20;
    reasons.push("存在明显句式起始重复");
  }

  // 4. 结构化过强
  let structureHits = (text.match(/首先|其次|最后|第一|第二|第三/g) || []).length;
  if (structureHits >= 3) {
    score += 15;
    reasons.push("文章结构高度模板化");
  }

  // 5. 过于中性
  if (!text.match(/我|我们|你|他|她|经历|感受/)) {
    score += 20;
    reasons.push("缺乏第一人称与情绪表达");
  }

  if (score > 100) score = 100;

  let level = "低 AI 风险（偏人工）";
  let color = "var(--success)";
  if (score >= 40) {
    level = "中等 AI 风险（可能 AI 辅助）";
    color = "var(--primary)";
  }
  if (score >= 70) {
    level = "高 AI 风险（明显 AI 生成）";
    color = "var(--danger)";
  }

  document.getElementById("score").innerText = score + "%";
  document.getElementById("score").style.color = color;
  document.getElementById("level").innerText = level;

  const list = document.getElementById("details");
  list.innerHTML = "";
  reasons.forEach(r => {
    const li = document.createElement("li");
    li.textContent = "• " + r;
    list.appendChild(li);
  });

  document.getElementById("result").style.display = "block";
}
</script>
</body>
</html>

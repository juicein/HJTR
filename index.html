<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>浩金资讯 - M3E</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div id="bg-anim-wrap" class="bg-canvas">
        <div class="blob blob-1"></div><div class="blob blob-2"></div><div class="blob blob-3"></div>
    </div>

    <div id="scrim" class="scrim" onclick="toggleDrawer()"></div>
    <nav id="drawer" class="navigation-drawer">
        <div style="display:flex; justify-content:space-between; align-items:center; padding:16px">
            <img src="image/logo_white.png" height="24">
            <span class="material-symbols-outlined" onclick="toggleDrawer()">close</span>
        </div>
        <div id="drawer-items"></div>
    </nav>

    <header class="top-bar">
        <span class="material-symbols-outlined" onclick="toggleDrawer()">menu</span>
        <div class="logo-box"><img src="image/logo_white.png" class="logo-img"></div>
        <div style="display:flex; gap:12px">
            <span class="material-symbols-outlined" onclick="toggleSearch()">search</span>
            <span class="material-symbols-outlined" onclick="toggleSettings()">settings</span>
        </div>
    </header>

    <div id="search-overlay">
        <input type="text" oninput="handleSearch(this.value)" placeholder="搜索一切..." style="width:100%; border:none; background:rgba(0,0,0,0.05); padding:12px; border-radius:12px; outline:none">
        <div id="search-results" style="margin-top:16px; max-height:400px; overflow-y:auto"></div>
    </div>

    <main class="responsive-container" style="padding: 80px 16px 20px; max-width: 1200px; margin: 0 auto;">
        <div class="main-grid" style="display: flex; flex-wrap: wrap; gap: 24px;">
            
            <div style="flex: 1.5; min-width: 340px;">
                <section class="hero-card">
                    <div id="hero-track" class="carousel-track" ontouchstart="handleSwipeStart(event)" ontouchend="handleSwipeEnd(event)"></div>
                    <div class="hero-progress-group" id="hero-dots"></div>
                </section>

                <section id="func-box" class="func-container">
                    <div style="display:flex; justify-content:space-between; align-items:center">
                        <b>快捷功能</b>
                        <span class="material-symbols-outlined" id="func-toggle" onclick="toggleFuncs()">expand_more</span>
                    </div>
                    <div id="func-grid" class="func-grid"></div>
                </section>

                <div class="tablet-footer" style="margin-top:40px; display:none">
                    <p style="opacity:0.5; font-size:12px">© 2025 浩金传媒 · V3.0 Expressive</p>
                    <button class="md-btn">下载 Android App</button>
                </div>
            </div>

            <div style="flex: 1; min-width: 340px;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:16px">
                    <h2 style="margin:0">近期动态</h2>
                    <span style="color:var(--md-sys-color-primary); cursor:pointer" onclick="openHistory()">历史记录</span>
                </div>
                <div id="recent-list"></div>
                
                <div class="mobile-footer" style="margin-top:40px; text-align:center">
                    <p style="opacity:0.5; font-size:12px">© 2025 浩金传媒</p>
                    <button style="background:var(--md-sys-color-primary); color:white; border:none; padding:12px 24px; border-radius:24px">下载 App</button>
                </div>
            </div>
        </div>
    </main>

    <dialog id="settings-dlg" style="border:none; border-radius:24px; padding:24px; width:90%; max-width:400px; background:var(--md-sys-color-surface)">
        <h3>系统设置</h3>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
            <span>流光背景动画</span>
            <input type="checkbox" class="md-switch" id="sw-bg" onchange="updateSetting('bgAnim', this.checked)">
        </div>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
            <span>新闻推送通知</span>
            <input type="checkbox" class="md-switch" id="sw-notif" onchange="updateSetting('notif', this.checked)">
        </div>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
            <span>地区筛选</span>
            <select id="loc-select" onchange="updateSetting('location', this.value)" style="padding:8px; border-radius:8px"></select>
        </div>
        <button onclick="this.parentElement.close()" style="width:100%; padding:12px; border-radius:12px; border:none; background:var(--md-sys-color-primary-container)">确定</button>
    </dialog>

    <script src="assets/menu_data.js"></script>
    <script src="assets/script.js"></script>
</body>
</html>

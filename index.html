<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>万方出行通</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>

    <div class="aurora-bg" id="auroraBg">
        <div class="blob"></div>
        <div class="blob"></div>
        <div class="blob"></div>
    </div>

    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>
    <aside class="sidebar" id="sidebar">
        <h2 style="padding: 0 16px; margin-bottom: 16px;">导航</h2>
        <ul class="sidebar-menu" id="sidebarList">
            </ul>
    </aside>

    <header class="top-bar">
        <div class="top-left">
            <button class="btn-icon" onclick="toggleSidebar()"><span class="material-symbols-rounded">menu</span></button>
            <div class="app-logo mobile-only"></div> </div>
        
        <div class="top-center">
            <div class="app-logo"></div> </div>

        <div class="top-right">
            <button class="btn-icon" onclick="openSearch()"><span class="material-symbols-rounded">search</span></button>
            <button class="btn-icon" onclick="openSettings()"><span class="material-symbols-rounded">settings</span></button>
        </div>
    </header>

    <div class="main-container">
        
        <div class="left-column">
            <section class="hero-section">
                <div class="hero-slider" id="heroSlider">
                    </div>
                <div class="progress-bar-container" id="heroProgressContainer">
                    <div class="progress-bar" id="heroProgressBar"></div>
                </div>
            </section>

            <section class="quick-actions">
                <div class="actions-grid" id="actionsGrid">
                    </div>
                <button class="expand-btn" id="expandActionBtn" onclick="toggleActions()">
                    <span class="material-symbols-rounded" id="expandIcon">keyboard_arrow_down</span>
                    <span id="expandText">显示全部</span>
                </button>
            </section>

            <div class="footer-section desktop-only">
                <a href="#" class="app-dl-btn" id="appDlBtnDesktop">
                    <span class="material-symbols-rounded">android</span> 下载客户端
                </a>
                <div class="copyright">© 2025 万方出行通. All rights reserved.</div>
            </div>
        </div>

        <div class="right-column">
            <div class="news-header">
                <span class="news-title">近期动态</span>
                <span class="history-btn" onclick="openHistory()">历史新闻</span>
            </div>
            
            <div id="newsList">
                </div>

            <div class="footer-section mobile-only">
                <a href="#" class="app-dl-btn" id="appDlBtnMobile">
                    <span class="material-symbols-rounded">android</span> 下载客户端
                </a>
                <div class="copyright">© 2025 万方出行通. All rights reserved.</div>
            </div>
        </div>
    </div>

    <div class="modal" id="searchModal">
        <div class="modal-content">
            <div class="search-input-box">
                <span class="material-symbols-rounded">search</span>
                <input type="text" class="search-input" placeholder="搜索功能、新闻、侧边栏..." oninput="handleSearch(this.value)">
                <button class="btn-icon" onclick="closeModal('searchModal')"><span class="material-symbols-rounded">close</span></button>
            </div>
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <div class="modal" id="historyModal">
        <div class="modal-content" style="max-width: 600px; height: 80vh;">
            <div class="news-header">
                <span class="news-title">历史新闻</span>
                <button class="btn-icon" onclick="closeModal('historyModal')"><span class="material-symbols-rounded">close</span></button>
            </div>
            <div id="historyList"></div>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="news-header">
                <span class="news-title">设置</span>
                <button class="btn-icon" onclick="closeModal('settingsModal')"><span class="material-symbols-rounded">close</span></button>
            </div>
            
            <div class="setting-item">
                <span>流光背景动画</span>
                <label class="switch">
                    <input type="checkbox" id="settingBgAnim" checked onchange="toggleBgAnim()">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <span>新闻推送通知</span>
                <label class="switch">
                    <input type="checkbox" id="settingNotify" checked onchange="toggleNotify()">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <span>显示 App 下载卡片</span>
                <label class="switch">
                    <input type="checkbox" id="settingAppDl" checked onchange="toggleAppDl()">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                <span>地区筛选 (Location)</span>
                <select id="locationSelect" onchange="filterLocation()" style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid var(--md-sys-color-outline); background: transparent; color: inherit;">
                    <option value="all">全部地区</option>
                    </select>
            </div>
        </div>
    </div>

    <script src="assets/menu_data.js"></script>
    <script src="assets/script.js"></script>
</body>
</html>

:root{
  --primary: #1D4886;    /* 深蓝（新航灵感） */ 
  --accent: #FCB130;     /* 金色 */
  --card: #ffffff;
  --line: rgba(0,0,0,0.08);
  --text: #0b2340;
  --muted: #6b7a90;
  --map-bg: #eef5ff;
}
@media (prefers-color-scheme: dark){
  :root{
    --card: #081225;
    --text: #e6eef8;
    --muted: #9fb0d0;
    --line: rgba(255,255,255,0.06);
  }
}
*{box-sizing:border-box}
body,html{height:100%;margin:0;font-family:Inter, "Segoe UI", Arial, sans-serif;color:var(--text)}

/* top bar */
.top-bar{
  position:absolute; left:12px; right:12px; top:12px;
  z-index:9999; display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:8px 12px; border-radius:12px; background:rgba(255,255,255,0.95); backdrop-filter: blur(6px); box-shadow:0 6px 18px rgba(10,20,40,0.06)
}
.brand{display:flex;align-items:center;gap:8px}
.brand-logo{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,var(--primary),#11305a)}
.brand-text{font-weight:700}

/* search */
.search-wrapper{display:flex;align-items:center;gap:8px;flex:1;max-width:900px;margin:0 12px}
.search-wrapper input{flex:1;padding:8px 12px;border-radius:8px;border:1px solid var(--line);outline:none}
.search-wrapper button{margin-left:0}

/* buttons */
.btn{border:none;border-radius:10px;padding:8px 10px;font-weight:600;cursor:pointer}
.btn.primary{background:var(--primary);color:var(--card)}
.btn.secondary{background:#e9eef7;color:var(--primary)}
.btn.ghost{background:transparent;color:var(--primary);border:1px solid var(--line)}

/* switch */
.switch{position:relative;display:inline-block;width:55px;height:28px}
.switch.small{width:44px;height:22px}
.switch input{display:none}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#cfcfcf;border-radius:999px;transition:0.28s}
.slider:before{content:"";position:absolute;height:20px;width:20px;left:4px;bottom:4px;background:#fff;border-radius:50%;transition:0.28s}
.switch.small .slider:before{height:16px;width:16px;left:3px;bottom:3px}
.switch input:checked + .slider{background:var(--primary)}
.switch input:checked + .slider:before{transform:translateX(26px)}

/* map */
#map{width:100%;height:100vh}

/* sidebar */
.sidebar{position:absolute; top:70px; left:12px; bottom:12px; width:360px; z-index:9998; background:rgba(255,255,255,0.95); border-radius:12px; padding:12px; overflow:auto; box-shadow:0 6px 18px rgba(0,0,0,0.06)}
.sidebar.hidden{display:none}
.sidebar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.flight-list{display:flex;flex-direction:column;gap:8px}
.flight-card{padding:10px;border-radius:8px;background:linear-gradient(180deg,#fff,#f7fbff);border:1px solid var(--line);cursor:pointer}
.flight-card .meta{font-size:12px;color:var(--muted);margin-top:6px}
.flight-card .prog{height:6px;background:#e6eefb;border-radius:3px;overflow:hidden;margin-top:8px}
.flight-card .prog > i{display:block;height:100%;background:var(--accent);width:40%}

/* mobile panel */
.mobile-panel{position:fixed;left:0;right:0;bottom:0;background:rgba(255,255,255,0.96);border-top-left-radius:12px;border-top-right-radius:12px;z-index:9999;max-height:70vh;overflow:auto}
.mobile-panel.hidden{display:none}
.mobile-handle{text-align:center;padding:8px;font-weight:700;color:var(--muted)}

/* info card */
.info-card{position:absolute;left:50%;transform:translateX(-50%);bottom:18px;z-index:9999;width:92%;max-width:480px;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(245,250,255,0.9));border-radius:12px;padding:12px;box-shadow:0 8px 30px rgba(11,34,64,0.14)}
.info-card.hidden{display:none}
.info-card h3{margin:0}
.info-row{display:flex;justify-content:space-between;gap:12px;margin-top:8px}
.info-sub{font-size:13px;color:var(--muted)}

/* airport icon (concentric circle) */
.airport-wrapper{display:flex;align-items:center;gap:6px}
.airport-icon{width:16px;height:16px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative}
.airport-icon .outer{position:absolute;left:-6px;top:-6px;width:28px;height:28px;border-radius:50%;border:2px solid rgba(29,72,134,0.12)}
.airport-label{font-size:12px;font-weight:700;margin-left:6px;color:var(--text);text-shadow:0 1px 0 rgba(255,255,255,0.6)}

/* flight label on map */
.flight-label { font-size:12px;padding:2px 6px;background:rgba(255,255,255,0.92);border-radius:6px;border:1px solid var(--line);box-shadow:0 4px 12px rgba(0,0,0,0.06); }

/* toast */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:110px;background:rgba(0,0,0,0.75);color:#fff;padding:8px 12px;border-radius:8px;z-index:10000}
.toast.hidden{display:none}

/* responsive */
@media (max-width:900px){
  .sidebar{display:none}
  .mobile-panel{display:block}
}

/* 基础：确保地图能占满高度（修复桌面白屏问题） */
html,body { height:100%; width:100%; margin:0; padding:0; font-family: Arial, "Noto Sans", sans-serif; }
:root{
  --bg:#f6f8fb; --card:#fff; --text:#111; --muted:#666; --accent:#0b66c2;
}
@media (prefers-color-scheme: dark){
  :root{ --bg:#071018; --card:#061018; --text:#e6eef9; --muted:#99a0aa; --accent:#59a7ff; }
}

body{background:var(--bg); color:var(--text);}

/* Topbar */
.topbar{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:var(--card);border-bottom:1px solid rgba(0,0,0,0.06);position:relative;z-index:1000}
.brand{font-weight:700}
.toolbar{display:flex;gap:10px;align-items:center}
#searchInput{padding:8px 10px;border-radius:6px;border:1px solid #ccc;min-width:320px}

/* Layout */
.layout{display:flex;height:calc(100% - 56px)}
.side{width:360px;padding:12px;background:var(--card);box-shadow:0 6px 18px rgba(2,6,23,0.04);overflow:auto}
.map-area{flex:1;position:relative}
#map{height:100%;width:100%}

/* Switch */
.switch{display:inline-block;position:relative;width:56px;height:28px}
.switch input{display:none}
.slider{position:absolute;left:0;top:0;right:0;bottom:0;background:#ccc;border-radius:28px}
.slider:before{content:"";position:absolute;left:4px;top:4px;width:20px;height:20px;background:#fff;border-radius:50%;transition:0.25s}
.switch input:checked + .slider{background:var(--accent)}
.switch input:checked + .slider:before{transform:translateX(28px)}

/* Flight list */
.flight-list{margin-top:8px}
.flight-card{padding:10px;border-radius:8px;margin-bottom:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01));border:1px solid rgba(0,0,0,0.04)}
.flight-card h4{margin:0;font-size:14px}
.flight-meta{color:var(--muted);font-size:13px;margin-top:6px}
.flight-status{margin-top:8px;font-weight:600}

/* Airport marker (divIcon style) */
.leaflet-container .airport-marker {
  display:flex;align-items:center;justify-content:center;
  width:14px;height:14px;border-radius:50%;
  background:var(--accent);border:2px solid #fff;box-shadow:0 0 6px rgba(11,102,194,0.25);
}

/* Plane icon text label style (tooltip-like) */
.flight-label { background:rgba(255,255,255,0.95); padding:2px 6px;border-radius:4px;border:1px solid #ddd; font-size:12px;}

/* Info card (FR24-like) */
.info-card{position:fixed;bottom:28px;left:50%;transform:translateX(-50%);z-index:1200;min-width:280px;max-width:420px;background:var(--card);color:var(--text);border-radius:12px;padding:14px;box-shadow:0 10px 30px rgba(0,0,0,0.25)}
.info-card .title{font-weight:700;font-size:16px;margin-bottom:6px}
.info-card .meta{color:var(--muted);font-size:13px;margin-bottom:8px}
.progress-wrap{height:8px;background:rgba(0,0,0,0.06);border-radius:6px;overflow:hidden}
.progress{height:100%;background:linear-gradient(90deg,var(--accent),#2fd3ff);width:0%}

/* hidden */
.hidden{display:none}

/* responsive */
@media (max-width:900px){
  .side{width:100%;max-height:260px;order:2}
  .layout{flex-direction:column}
  #searchInput{min-width:160px}
}

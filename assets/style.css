/* assets/style.css */

/* --- 1. 基础变量与配色 --- */
:root {
  --md-sys-color-primary: #006495;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #cbe6ff;
  --md-sys-color-on-primary-container: #001e30;
  --md-sys-color-surface: #fdfcff;
  --md-sys-color-surface-container: #f0f4f8; /* 稍深一点的背景用于卡片 */
  --md-sys-color-outline: #72777f;
  --md-sys-color-on-surface: #1a1c1e;
  --md-sys-color-on-surface-variant: #42474e;
  --highlight-orange: #ff6d00;
  
  --md-sys-shape-corner-large: 24px;
  --md-sys-shape-corner-extra-large: 32px;
  --md-sys-shape-corner-full: 9999px;

  /* 动画曲线 MD3 Emphasized */
  --md-sys-motion-easing-emphasized: cubic-bezier(0.2, 0.0, 0, 1.0);
  --md-sys-motion-duration-long: 500ms;
}

@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-surface: #1a1c1e;
    --md-sys-color-surface-container: #202429;
    --md-sys-color-on-surface: #e2e2e6;
    --md-sys-color-on-surface-variant: #c4c7c5;
    --md-sys-color-on-primary-container: #cbe6ff;
    --md-sys-color-primary-container: #004b73;
    --md-sys-color-primary: #93cae4;
    --md-sys-color-on-primary: #00324c;
    --glass-bg: rgba(30, 30, 30, 0.75);
    --glass-border: 1px solid rgba(255, 255, 255, 0.1);
  }
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', system-ui, sans-serif; }

body {
  background-color: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);
  transition: background-color 0.3s ease;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* --- 2. 布局系统 (Responsive) --- */

/* 移动端默认布局 */
.app-container {
  display: flex;
  flex-direction: column;
  padding: 16px;
  gap: 16px;
  padding-top: 80px; /* 留出顶栏高度 */
}

/* 桌面端布局 (>= 1024px) */
@media (min-width: 1024px) {
  body {
    flex-direction: row; /* 变为左右结构 */
  }

  /* 侧边导航栏 (Nav Rail) */
  .top-bar {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: 80px; /* 收缩状态 */
    height: 100vh;
    flex-direction: column !important;
    padding: 24px 12px !important;
    border-right: 1px solid var(--md-sys-color-outline);
    background: var(--md-sys-color-surface);
    z-index: 100;
  }
  
  .top-bar .logo { margin-bottom: 40px; margin-right: 0 !important; }
  .top-bar .actions { flex-direction: column; gap: 20px; margin-top: auto; }

  .app-container {
    margin-left: 80px; /* 让出导航栏宽度 */
    padding: 32px;
    padding-top: 32px;
    display: grid;
    grid-template-columns: 1.2fr 0.8fr; /* 左侧 1.2 : 右侧 0.8 */
    grid-template-rows: auto 1fr;
    grid-template-areas: 
      "hero news"
      "menu news";
    gap: 32px;
    height: 100vh;
    overflow-y: auto;
  }

  #hero-section { grid-area: hero; }
  #menu-section { grid-area: menu; align-self: start; }
  #news-section { grid-area: news; height: 100%; overflow-y: auto; padding-right: 8px;}
}

/* --- 3. 组件样式 --- */

/* 顶栏 */
.top-bar {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  background: var(--md-sys-color-surface);
  z-index: 99;
  transition: all 0.3s ease;
}
.logo { font-weight: 800; font-size: 22px; color: var(--md-sys-color-primary); letter-spacing: -0.5px; }

/* 按钮 & 图标 */
.icon-btn {
  background: none; border: none; cursor: pointer;
  color: var(--md-sys-color-on-surface-variant);
  padding: 8px; border-radius: 50%;
  transition: background 0.2s;
}
.icon-btn:hover { background-color: var(--md-sys-color-surface-container); }

/* 头条 (Hero) */
.hero-card {
  width: 100%;
  border-radius: var(--md-sys-shape-corner-extra-large);
  overflow: hidden;
  position: relative;
  min-height: 280px;
  background-color: var(--md-sys-color-surface-container);
  transition: all var(--md-sys-motion-duration-long) var(--md-sys-motion-easing-emphasized);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}

/* 模式1：新闻头条 */
.hero-news .hero-img {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  object-fit: cover;
  transition: transform 6s ease;
}
.hero-news:hover .hero-img { transform: scale(1.05); }
.hero-content {
  position: relative; z-index: 2;
  padding: 24px;
  background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
  color: white;
}
.hero-tag {
  background: var(--md-sys-color-primary); color: var(--md-sys-color-on-primary);
  padding: 4px 12px; border-radius: 8px; font-size: 12px; font-weight: bold;
  display: inline-block; margin-bottom: 8px;
}
.hero-title { font-size: 28px; line-height: 1.2; font-weight: 700; margin-bottom: 8px;}

/* 模式2：企业展示 (Apple Music Style) */
.hero-brand {
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); /* 默认深色渐变 */
  align-items: center; justify-content: center; text-align: center;
}
.hero-brand .brand-logo { font-size: 48px; font-weight: 900; letter-spacing: 4px; color: white; margin-bottom: 16px; opacity: 0; animation: fadeUp 1s forwards;}
.hero-brand .brand-sub { font-size: 16px; color: rgba(255,255,255,0.8); text-transform: uppercase; letter-spacing: 2px; opacity: 0; animation: fadeUp 1s 0.2s forwards;}
@keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* 菜单区域 */
.menu-container {
  background: var(--md-sys-color-surface-container);
  border-radius: var(--md-sys-shape-corner-large);
  padding: 16px;
  transition: max-height 0.4s var(--md-sys-motion-easing-emphasized);
  overflow: hidden;
}
.menu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; cursor: pointer;}
.menu-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* 4列 */
  gap: 12px;
}
.menu-item {
  display: flex; flex-direction: column; align-items: center; gap: 8px;
  text-align: center; padding: 12px 4px;
  border-radius: 16px;
  cursor: pointer;
  transition: background 0.2s;
}
.menu-item:hover { background: rgba(0,0,0,0.05); }
.menu-item span { font-size: 32px; color: var(--md-sys-color-primary); }
.menu-item p { font-size: 12px; font-weight: 500; }

/* 新闻列表 */
.news-header { margin-bottom: 16px; font-size: 22px; font-weight: 600; padding-left: 8px; border-left: 4px solid var(--md-sys-color-primary);}
.news-list { display: flex; flex-direction: column; gap: 12px; }

/* 新闻卡片 */
.news-card {
  background: var(--md-sys-color-surface-container);
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  flex-direction: row; /* 图片在右，字在左 */
  height: 120px;
  text-decoration: none;
  color: inherit;
  transition: transform 0.2s, box-shadow 0.2s;
  cursor: pointer;
}
.news-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.nc-content { flex: 1; padding: 16px; display: flex; flex-direction: column; justify-content: space-between; }
.nc-title { font-size: 16px; font-weight: 600; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.nc-meta { font-size: 12px; color: var(--md-sys-color-on-surface-variant); display: flex; gap: 8px;}
.nc-img { width: 120px; height: 100%; object-fit: cover; }
.news-card.text-only .nc-content { justify-content: center; } /* 纯文字卡片居中 */

/* 详情页样式 */
.detail-container { max-width: 800px; margin: 80px auto 20px; padding: 24px; }
.detail-header { margin-bottom: 24px; }
.detail-title { font-size: 32px; font-weight: 800; margin-bottom: 12px; color: var(--md-sys-color-primary); }
.detail-meta { color: var(--md-sys-color-outline); font-size: 14px; margin-bottom: 24px; display: flex; gap: 16px;}
.detail-img { width: 100%; border-radius: 24px; margin-bottom: 32px; }
.detail-body { font-size: 18px; line-height: 1.8; color: var(--md-sys-color-on-surface); }
.fab-back {
  position: fixed; bottom: 32px; right: 32px;
  width: 56px; height: 56px; border-radius: 16px;
  background: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  cursor: pointer; text-decoration: none;
}

/* 弹窗 Dialog */
dialog {
  border: none; border-radius: 28px;
  padding: 24px; width: 90%; max-width: 400px;
  background: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  margin: auto;
}
dialog::backdrop { background: rgba(0,0,0,0.5); backdrop-filter: blur(2px); }
.dialog-title { font-size: 24px; margin-bottom: 16px; }
.input-field {
  width: 100%; padding: 16px; border-radius: 12px; border: 1px solid var(--md-sys-color-outline);
  background: transparent; color: inherit; font-size: 16px; margin-bottom: 16px;
}
.btn-group { display: flex; justify-content: flex-end; gap: 8px; }
.btn { padding: 10px 24px; border-radius: 20px; border: none; font-weight: 600; cursor: pointer; background: transparent; color: var(--md-sys-color-primary); }
.btn-filled { background: var(--md-sys-color-primary); color: var(--md-sys-color-on-primary); }

.search-results { max-height: 200px; overflow-y: auto; margin-top: 10px; display: none; }
.search-item { padding: 12px; border-bottom: 1px solid var(--md-sys-color-outline); cursor: pointer; }

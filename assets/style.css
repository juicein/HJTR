:root {
  --md-sys-color-primary: #006495;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #cbe6ff;
  --md-sys-color-on-primary-container: #001e30;
  --md-sys-color-surface: #fdfcff;
  --md-sys-color-on-surface: #1a1c1e;
  --md-sys-color-surface-container: #f0f4f8;
  --md-sys-color-outline: #72777f;
  
  --highlight-orange: #ff6d00;
  --card-radius: 24px; /* MD3 更圆润的角 */
}

@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-surface: #1a1c1e;
    --md-sys-color-on-surface: #e2e2e6;
    --md-sys-color-surface-container: #202429;
    --md-sys-color-on-primary-container: #ffffff;
    --md-sys-color-primary-container: #004b73; /* 调整暗色模式 */
    --md-sys-color-primary: #93cae4;
    --md-sys-color-on-primary: #00324c;
  }
}

* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
body { font-family: system-ui, -apple-system, sans-serif; background: var(--md-sys-color-surface); color: var(--md-sys-color-on-surface); }

/* --- 顶栏 --- */
.top-app-bar {
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 16px;
    background: var(--md-sys-color-surface);
    position: sticky;
    top: 0;
    z-index: 100;
}
.app-logo { height: 28px; width: auto; display: block; }
/* 暗色模式下如果Logo是黑色字，需加滤镜反转，如果是彩色则不需要 */
@media (prefers-color-scheme: dark) { .app-logo { filter: brightness(0) invert(1); } }

/* --- 按钮通用 --- */
.icon-btn { background:0 0; border:none; padding:12px; border-radius:50%; color:var(--md-sys-color-on-surface); cursor:pointer; }
.icon-btn:active { background: var(--md-sys-color-surface-container); }
.text-btn { background:0 0; border:none; color:var(--md-sys-color-primary); font-weight:500; padding:0 12px; cursor:pointer; }
.tonal-btn { background:var(--md-sys-color-primary-container); color:var(--md-sys-color-on-primary-container); border:none; padding:8px 16px; border-radius:18px; font-weight:500; font-size: 0.85rem;}
.filled-btn { background:var(--md-sys-color-primary); color:var(--md-sys-color-on-primary); border:none; padding:10px 24px; border-radius:20px; font-weight:500; cursor:pointer; }
.outlined-btn { background:transparent; border:1px solid var(--md-sys-color-outline); color:var(--md-sys-color-primary); padding:10px; border-radius:20px; width:100%; margin-top:16px; cursor:pointer;}

/* --- 布局系统 (核心修正) --- */
.main-layout {
    max-width: 1200px;
    margin: 0 auto;
    padding: 16px;
    display: flex;
    flex-direction: column; /* 手机优先：垂直排列 */
    gap: 24px;
}

/* 手机端底部显示，桌面端隐藏 */
.mobile-footer-area { display: block; margin-top: 20px; }
.desktop-footer-area { display: none; }

/* 响应式：大屏/平板 */
@media (min-width: 900px) {
    .main-layout {
        display: grid;
        grid-template-columns: 360px 1fr; /* 左固定，右自适应 */
        gap: 32px;
        align-items: start;
    }
    .top-app-bar .logo-container { flex: 1; display: flex; justify-content: center; } /* 平板Logo居中 */
    
    /* 桌面端：版权在左侧栏底部 */
    .mobile-footer-area { display: none; }
    .desktop-footer-area { display: block; margin-top: auto; padding-top: 24px;}
    .sidebar-area {
        height: calc(100vh - 100px);
        position: sticky;
        top: 80px;
        display: flex;
        flex-direction: column;
    }
}

/* --- 卡片与组件 --- */
.card { background: var(--md-sys-color-surface-container); border-radius: var(--card-radius); padding: 20px; margin-bottom: 16px; }
.section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.section-header h3 { font-size: 1.1rem; font-weight: 500; }

/* 头条 */
.headlines-section { 
    display: flex; gap: 12px; overflow-x: auto; padding-bottom: 10px; scroll-snap-type: x mandatory; 
    scrollbar-width: none; 
}
.headlines-section::-webkit-scrollbar { display: none; }
.headline-card {
    flex: 0 0 88%;
    scroll-snap-align: center;
    background: linear-gradient(135deg, var(--md-sys-color-primary), #003a5c);
    color: white;
    padding: 24px;
    border-radius: var(--card-radius);
    min-height: 160px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

/* 菜单 */
.menu-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px 8px; }
.menu-item { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: inherit; gap: 8px; }
.menu-item span { font-size: 28px; color: var(--md-sys-color-primary); background: var(--md-sys-color-surface); padding: 10px; border-radius: 16px; }
.menu-item p { font-size: 0.75rem; text-align: center; }

/* 新闻列表 */
.news-card {
    display: flex; background: var(--md-sys-color-surface-container); border-radius: 16px; overflow: hidden; margin-bottom: 12px;
    transition: transform 0.2s; cursor: pointer; border: 1px solid rgba(0,0,0,0.03);
}
.news-card:active { transform: scale(0.98); }
.news-img { width: 110px; height: auto; object-fit: cover; background: #ddd; display: block; }
.news-content { padding: 16px; flex: 1; display: flex; flex-direction: column; justify-content: center; }
.news-tag { 
    border: 1px solid var(--md-sys-color-outline); color: var(--md-sys-color-primary); 
    font-size: 0.7rem; padding: 2px 6px; border-radius: 6px; align-self: flex-start; margin-bottom: 6px; 
}
.news-title { font-size: 1rem; margin-bottom: 4px; line-height: 1.4; font-weight: 600; }
.news-desc { font-size: 0.85rem; color: var(--md-sys-color-outline); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;}

/* 下载模块 */
.app-download-card { display: flex; align-items: center; justify-content: space-between; background: var(--md-sys-color-primary-container); color: var(--md-sys-color-on-primary-container); }
.app-info { display: flex; align-items: center; gap: 12px; }
.copyright { text-align: center; font-size: 0.75rem; color: var(--md-sys-color-outline); margin-top: 16px; }

/* 侧边栏 & 弹窗 */
.drawer { position: fixed; top: 0; left: -320px; width: 300px; height: 100%; background: var(--md-sys-color-surface); z-index: 200; transition: 0.3s cubic-bezier(0.2,0,0,1); padding: 16px; }
.drawer.open { left: 0; box-shadow: 4px 0 20px rgba(0,0,0,0.2); }
.drawer-header { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; }
.drawer-scrim { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 150; display: none; }
.drawer-scrim.open { display: block; }

dialog { 
    border: none; background: var(--md-sys-color-surface); 
    width: 90%; max-width: 500px; border-radius: 28px; 
    margin: auto; padding: 0; 
    box-shadow: 0 15px 40px rgba(0,0,0,0.3);
}
dialog::backdrop { background: rgba(0,0,0,0.5); }
.fullscreen-dialog { width: 100%; height: 100%; max-width: 100%; max-height: 100%; border-radius: 0; }
.dialog-header { padding: 8px 8px; display: flex; align-items: center; border-bottom: 1px solid var(--md-sys-color-surface-container); gap: 8px; }
.dialog-content { padding: 24px; overflow-y: auto; max-height: 80vh; }
.search-bar-container input, .styled-input { 
    width: 100%; padding: 12px 16px; border-radius: 24px; border: none; 
    background: var(--md-sys-color-surface-container); font-size: 1rem; outline: none; color: inherit;
}
.setting-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
/* Switch 开关 */
.switch { position: relative; display: inline-block; width: 48px; height: 28px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; inset: 0; background-color: var(--md-sys-color-surface-container); border: 1px solid var(--md-sys-color-outline); border-radius: 34px; transition: .4s; }
.slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: var(--md-sys-color-outline); transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--md-sys-color-primary); border: none; }
input:checked + .slider:before { transform: translateX(20px); background-color: #fff; }

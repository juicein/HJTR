:root {
  --md-sys-color-primary: #006495;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #cbe6ff;
  --md-sys-color-on-primary-container: #001e30;
  --md-sys-color-secondary-container: #dce2e9; 
  --md-sys-color-surface: #fdfcff;
  --md-sys-color-surface-container: #f0f4f8;
  --md-sys-color-surface-variant: #dee3eb;
  --md-sys-color-on-surface: #1a1c1e;
  --md-sys-color-on-surface-variant: #42474e;
  --md-sys-color-outline: #72777f;
  
  --highlight-orange: #ff6d00;
  
  --glass-bg: rgba(253, 252, 255, 0.85);
  --glass-border: 1px solid rgba(255, 255, 255, 0.5);
  --elevation-1: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  --elevation-2: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
}

@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-surface: #1a1c1e;
    --md-sys-color-surface-container: #202429;
    --md-sys-color-on-primary-container: #ffffff;
    --md-sys-color-primary-container: #004b73;
    --md-sys-color-primary: #93cae4;
    --md-sys-color-on-primary: #00324c;
    --md-sys-color-on-surface: #e2e2e6;
    --md-sys-color-on-surface-variant: #c2c7cf;
    --md-sys-color-secondary-container: #343a40;
    --glass-bg: rgba(30, 30, 30, 0.75);
    --glass-border: 1px solid rgba(255, 255, 255, 0.1);
  }
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', 'PingFang SC', sans-serif; -webkit-tap-highlight-color: transparent; }
body { background-color: var(--md-sys-color-surface); color: var(--md-sys-color-on-surface); transition: background 0.3s; }

/* --- 动画 --- */
@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.fade-in-up { animation: fadeInUp 0.5s cubic-bezier(0.2, 0, 0, 1) forwards; }

/* --- 顶栏 --- */
.top-app-bar {
    position: fixed; top: 0; left: 0; right: 0; height: 64px;
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 16px; z-index: 100;
    background: var(--glass-bg); border-bottom: var(--glass-border);
    backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
}
.logo-container { height: 32px; width: 120px; display: flex; align-items: center; margin-left: 12px; }

/* Logo 变色核心技术 */
.logo-mask {
    width: 100%; height: 100%;
    -webkit-mask-image: var(--logo-url); mask-image: var(--logo-url);
    -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
    -webkit-mask-size: contain; mask-size: contain;
    -webkit-mask-position: center; mask-position: center;
    background-color: var(--md-sys-color-primary); /* 浅色模式为主题色 */
}
@media (prefers-color-scheme: dark) {
    .logo-mask { background-color: #ffffff; } /* 深色模式为白色 */
}

/* 手机端 Logo 居左 (Flex默认)，平板/桌面居中 */
@media (min-width: 840px) {
    .top-app-bar { display: grid; grid-template-columns: 1fr auto 1fr; }
    .top-bar-left { justify-self: start; display: flex; }
    .logo-container { justify-self: center; margin: 0; }
    .top-bar-right { justify-self: end; }
}

.icon-btn { background: none; border: none; color: var(--md-sys-color-on-surface); padding: 8px; border-radius: 50%; cursor: pointer; }
.icon-btn:hover { background-color: var(--md-sys-color-surface-variant); }

/* --- 布局容器 --- */
.main-container {
    padding-top: 80px; padding-bottom: 24px; max-width: 1440px; margin: 0 auto;
    display: flex; flex-direction: column; gap: 24px; padding-left: 16px; padding-right: 16px;
}
/* 响应式 Grid 布局 */
@media (min-width: 840px) {
    .main-container {
        display: grid;
        grid-template-columns: 360px 1fr; /* 左侧固定宽度，右侧自适应 */
        grid-template-areas: 
            "headlines news"
            "menu news"
            "footer news";
        gap: 32px;
        align-items: start;
    }
    .left-panel { display: contents; } /* 让子元素直接参与 Grid */
    .headlines-section { grid-area: headlines; }
    .menu-section { grid-area: menu; }
    .desktop-footer { grid-area: footer; display: block; }
    .right-panel { grid-area: news; }
    
    .mobile-footer { display: none; } /* 隐藏手机底部 */
}

/* --- Section 通用 --- */
.section-title { font-size: 22px; margin-bottom: 16px; color: var(--md-sys-color-on-surface); font-weight: 500; }
.section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }

/* --- 新闻头条 Carousel --- */
.carousel-container {
    display: flex; overflow-x: auto; scroll-snap-type: x mandatory; gap: 16px;
    padding-bottom: 8px; scroll-behavior: smooth;
    -ms-overflow-style: none; scrollbar-width: none;
}
.carousel-container::-webkit-scrollbar { display: none; }

.headline-card {
    min-width: 280px; height: 200px; border-radius: 16px; flex-shrink: 0; scroll-snap-align: center;
    position: relative; overflow: hidden; box-shadow: var(--elevation-1); cursor: pointer;
    background-color: var(--md-sys-color-surface-container);
}
.headline-bg { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s; }
.headline-card:hover .headline-bg { transform: scale(1.05); }
.headline-content {
    position: absolute; bottom: 0; left: 0; right: 0; padding: 16px;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); color: white;
}
.headline-title { font-size: 18px; font-weight: bold; line-height: 1.4; 
    display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;
}

/* 进度条 */
.carousel-progress-wrapper { height: 4px; background: var(--md-sys-color-surface-variant); border-radius: 2px; overflow: hidden; margin-top: 8px; display: none; }
.carousel-progress-bar { height: 100%; background: var(--md-sys-color-primary); width: 0%; transition: width 0.2s; }

/* --- 功能菜单 --- */
.menu-grid {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;
    background: var(--md-sys-color-surface-container); padding: 16px; border-radius: 24px;
}
.menu-item { display: flex; flex-direction: column; align-items: center; gap: 8px; cursor: pointer; text-decoration: none; color: inherit; }
.menu-icon-box {
    width: 48px; height: 48px; background: var(--md-sys-color-secondary-container);
    border-radius: 16px; display: flex; align-items: center; justify-content: center;
    transition: 0.2s;
}
.menu-item:hover .menu-icon-box { background: var(--md-sys-color-primary-container); color: var(--md-sys-color-on-primary-container); }
.menu-label { font-size: 12px; text-align: center; }

/* --- 新闻列表 --- */
.news-list { display: flex; flex-direction: column; gap: 16px; }
.news-card {
    background: var(--md-sys-color-surface); border: 1px solid var(--md-sys-color-outline); border-color: rgba(114, 119, 127, 0.2);
    border-radius: 12px; padding: 16px; display: flex; gap: 16px; cursor: pointer;
    transition: background 0.2s, box-shadow 0.2s;
    position: relative;
}
.news-card:hover { background: var(--md-sys-color-surface-container); box-shadow: var(--elevation-1); }

/* 图片卡片样式 */
.news-card.has-image { flex-direction: row-reverse; }
.news-img { width: 100px; height: 100px; border-radius: 12px; object-fit: cover; flex-shrink: 0; background: #eee; }

.news-body { flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
.news-title { font-size: 16px; font-weight: 600; margin-bottom: 8px; line-height: 1.4; color: var(--md-sys-color-on-surface); }
.news-snippet { font-size: 14px; color: var(--md-sys-color-on-surface-variant); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; margin-bottom: 8px; }

.news-meta { display: flex; align-items: center; gap: 8px; font-size: 12px; color: var(--md-sys-color-outline); }
.location-chip {
    background: var(--md-sys-color-primary-container); color: var(--md-sys-color-on-primary-container);
    padding: 2px 8px; border-radius: 6px; font-weight: 500;
}

/* --- 侧边栏 --- */
.navigation-drawer {
    position: fixed; top: 0; left: 0; height: 100vh; width: 300px;
    background: var(--md-sys-color-surface-container); z-index: 200;
    transform: translateX(-100%); transition: transform 0.3s cubic-bezier(0.2, 0, 0, 1);
    padding: 12px; border-radius: 0 24px 24px 0;
}
.navigation-drawer.open { transform: translateX(0); }
.drawer-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; margin-bottom: 12px; font-weight: bold; }
.drawer-item {
    display: flex; align-items: center; gap: 12px; padding: 16px;
    border-radius: 100px; color: var(--md-sys-color-on-surface-variant);
    text-decoration: none; margin-bottom: 4px;
}
.drawer-item.active, .drawer-item:hover { background: var(--md-sys-color-secondary-container); color: var(--md-sys-color-on-surface); }

.scrim {
    position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 150;
    opacity: 0; pointer-events: none; transition: opacity 0.3s;
}
.scrim.open { opacity: 1; pointer-events: auto; }

/* --- 弹窗 Dialog --- */
dialog { border: none; padding: 0; border-radius: 28px; background: var(--md-sys-color-surface); color: var(--md-sys-color-on-surface); margin: auto; }
dialog::backdrop { background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(2px); }

.fullscreen-dialog { width: 100%; height: 100%; max-width: 100%; max-height: 100%; border-radius: 0; }
.standard-dialog { width: 90%; max-width: 400px; }

.dialog-header { padding: 16px 24px; display: flex; align-items: center; justify-content: space-between; }
.search-input-box {
    display: flex; align-items: center; gap: 12px; background: var(--md-sys-color-surface-container);
    padding: 8px 16px; border-radius: 28px; flex: 1;
}
.search-input-box input { border: none; background: transparent; flex: 1; font-size: 16px; color: var(--md-sys-color-on-surface); outline: none; }

/* 设置开关样式 */
.switch { position: relative; display: inline-block; width: 52px; height: 32px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--md-sys-color-outline); transition: .4s; border-radius: 32px; border: 2px solid transparent;}
.slider:before { position: absolute; content: ""; height: 24px; width: 24px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--md-sys-color-primary); }
input:checked + .slider:before { transform: translateX(20px); background-color: var(--md-sys-color-on-primary); }

.setting-item { display: flex; justify-content: space-between; align-items: center; padding: 16px 24px; border-bottom: 1px solid var(--md-sys-color-outline); border-opacity: 0.1; }
.setting-item:last-child { border-bottom: none; }

/* --- App 下载卡片 --- */
.app-promo-card {
    background: linear-gradient(135deg, var(--md-sys-color-primary), var(--md-sys-color-primary-container));
    color: var(--md-sys-color-on-primary); padding: 16px; border-radius: 16px;
    display: flex; align-items: center; gap: 16px; margin-top: 24px;
}
.app-promo-card .text { flex: 1; }
.app-promo-card h3 { font-size: 16px; }
.app-promo-card p { font-size: 12px; opacity: 0.9; }
.filled-btn { background: var(--md-sys-color-on-primary); color: var(--md-sys-color-primary); border: none; padding: 10px 20px; border-radius: 100px; font-weight: 500; cursor: pointer; }

/* --- 详情页 --- */
.detail-container { max-width: 800px; margin: 80px auto; padding: 24px; background: var(--md-sys-color-surface); min-height: 80vh; }
.detail-img { width: 100%; max-height: 400px; object-fit: cover; border-radius: 16px; margin-bottom: 24px; }
.detail-title { font-size: 28px; margin-bottom: 16px; line-height: 1.3; }
.detail-meta { display: flex; gap: 16px; color: var(--md-sys-color-outline); margin-bottom: 24px; font-size: 14px; }
.detail-content { font-size: 18px; line-height: 1.6; color: var(--md-sys-color-on-surface-variant); white-space: pre-wrap; }

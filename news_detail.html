<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新闻详情</title>
    <link rel="stylesheet" href="assets/style.css">
    <style>
        .detail-body { max-width: 800px; margin: 0 auto; padding: 20px; animation: slideUp 0.6s var(--motion-easing); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .hero-img { width: 100%; height: 300px; object-fit: cover; border-radius: var(--radius-lg); margin-bottom: 24px; }
        .placeholder-color { width: 100%; height: 200px; border-radius: var(--radius-lg); margin-bottom: 24px; }
    </style>
</head>
<body>
    <div class="detail-body">
        <a href="index.html" style="text-decoration:none; color:var(--md-sys-color-primary); display:flex; align-items:center; margin-bottom:20px;">
            <span class="material-symbols-outlined">arrow_back</span> 返回列表
        </a>
        
        <div id="media-container"></div>
        <h1 id="title" style="font-size: 32px; margin: 0 0 12px;">加载中...</h1>
        <div id="meta" style="color:var(--md-sys-color-outline); margin-bottom:24px;"></div>
        <div id="content" style="white-space: pre-wrap; line-height:1.8; font-size:17px; color:var(--md-sys-color-on-surface-variant)"></div>
    </div>

    <script>
        const newsId = new URLSearchParams(window.location.search).get('id');
        fetch('data/news_content.json')
            .then(res => res.json())
            .then(data => {
                const item = data[newsId]; // 直接通过索引获取
                if (!item) { document.getElementById('title').innerText = "新闻不存在"; return; }

                document.getElementById('title').innerText = item.title;
                document.getElementById('meta').innerText = `${item.date} · ${item.location} · 作者：${item.author}`;
                document.getElementById('content').innerText = item.content;

                const media = document.getElementById('media-container');
                if (item.image && item.image.startsWith('#')) {
                    media.innerHTML = `<div class="placeholder-color" style="background:${item.image}"></div>`;
                } else if (item.image) {
                    media.innerHTML = `<img src="${item.image}" class="hero-img">`;
                }
            });
    </script>
</body>
</html>
